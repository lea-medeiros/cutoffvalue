<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cutoff Value Determination &amp; Graph • cutoffvalue</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Cutoff Value Determination &amp; Graph">
<meta property="og:description" content="This is a simple R package that implements an updated version of the method first developed and used in Medeiros et al. (2018). It can be used to determine an objective cutoff value between a significantly bimodal distribution of log-transformed data and plot a representative graph of the results.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cutoffvalue</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Help.html">cutoffvalue: An R Package for Cutoff Value Determination &amp; Graphing</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="cutoffvalue">cutoffvalue<a class="anchor" aria-label="anchor" href="#cutoffvalue"></a>
</h1></div>
<p>Cutoffvalue is a simple R package that implements an updated version of the method first developed and used in Medeiros et al. (2018). It can be used to determine an objective cutoff value between a significantly bimodal distribution of log-transformed data and plot a representative graph of the results.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of cutoffvalue from <a href="https://github.com/lea-medeiros/cutoffvalue.git" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("lea-medeiros/cutoffvalue", dependencies = TRUE, build_vignettes = TRUE)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to use the cutoffvalue package.</p>
<div class="section level3">
<h3 id="setup-rstudio">Setup RStudio<a class="anchor" aria-label="anchor" href="#setup-rstudio"></a>
</h3>
<p>Load the packages that are used by this package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cutoffvalue</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dsy109/mixtools" class="external-link">mixtools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hbiostat.org/R/Hmisc/" class="external-link">Hmisc</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/plyr" class="external-link">plyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://doi.org/10.18637/jss.v097.i09" class="external-link">multimode</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="import-your-dataset">Import your dataset<a class="anchor" aria-label="anchor" href="#import-your-dataset"></a>
</h3>
<p>Import the data file to be used in the analyses and graph. The package includes a dataset for use as an example - this object is accessible as “rawdata” and will be used in the examples.</p>
<p>Import your dataset any way you prefer. However, keep in mind that data should be organized as a single column of log- or natural log-transformed data. I find that the easiest way to import data is to use the “Import Dataset” function built into R Studio, but you can also use code (an example is provided below).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="va">yourrawdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_excel</a></span><span class="op">(</span><span class="st">"/path/to/your/excel/data"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="clean-the-raw-dataset">Clean the raw dataset<a class="anchor" aria-label="anchor" href="#clean-the-raw-dataset"></a>
</h3>
<p>Remove rows containing NA data while also defining the minimum and maximum values for the dataset. The default for each function is specified as “rawdata”, meaning that running any function without specifying the object (e.g., just typing “importdata()” into the console) will use this dataset.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cleandata.html">cleandata</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="determine-modality">Determine modality<a class="anchor" aria-label="anchor" href="#determine-modality"></a>
</h3>
<p>Determine if the data is not unimodal (e.g., bimodal). This function also returns the Excess Mass statistic and associated p-value in the Environment.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modetest</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/modes.html">modes</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span>
<span><span class="co">## Modality Test Results</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## P-value: 0.006 </span></span>
<span><span class="co">## Excess Mass Statistic: 0.09845026 </span></span>
<span><span class="co">## **Reject null hypothesis** Distribution contains more than one mode; proceed with analyses.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Test Credit: Ameijeiras-Alonso et al. (2019) excess mass test</span></span></code></pre></div>
<p><em>Returns excess mass statistic and p-value. If the p-value is less than 0.05, accept the alternative hypothesis (data is more than unimodal) and proceed with analysis. However, if the p-value is more than 0.05, the data is unimodal and the following analyses are not entirely valid.</em></p>
</div>
<div class="section level3">
<h3 id="fit-a-model-to-the-data">Fit a model to the data<a class="anchor" aria-label="anchor" href="#fit-a-model-to-the-data"></a>
</h3>
<p>Fit the two component mixture models to the data and plot a rough histogram with the fitted lines. It also defines the index.lower value to be used in the find.cutoff function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/datamodel.html">datamodel</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span></code></pre></div>
<p><img src="man/cutoffvalue_figures/README-model-data-1.jpeg" style="display: block; margin: auto;"></p>
<p><em>Make sure things look right, but won’t actually use this graph as it plots on a density scale and may cause confusion. However, this should look pretty spot on (final graph will just be scaled up by a constant determined later on), so make sure that the point where the two curves intersect is where you are expecting the cutoff to be.</em></p>
</div>
<div class="section level3">
<h3 id="determine-the-cutoff-value">Determine the cutoff value<a class="anchor" aria-label="anchor" href="#determine-the-cutoff-value"></a>
</h3>
<p>Determine the cutoff value between the two populations that has an equal chance of being drawn from either mode. The default is 0.5, but the probability can be changed in the code.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cutoff</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/findcutoff.html">findcutoff</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span>
<span><span class="co">## number of iterations= 18</span></span>
<span><span class="co">## Cutoff Value: 0.112476</span></span></code></pre></div>
<p><em>The uniroot lower and upper values are determined using the range of “mydata” and will reflect the dataset being analyzed. If there are errors due to the uniroot, consider editing the custom values to something that more generally reflects the range of the data being analyzed.</em></p>
</div>
<div class="section level3">
<h3 id="basic-histogram-and-parameters">Basic histogram and parameters<a class="anchor" aria-label="anchor" href="#basic-histogram-and-parameters"></a>
</h3>
<p>The code below will produce basic histogram of data used for the parameters it produces; alter number of breaks to reflect what you would like to see in the final graph. Then, use various parameters to define variables for the final graph</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fitparams.html">fitparams</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span></code></pre></div>
<p><img src="man/cutoffvalue_figures/README-basic-histogram-1.jpeg" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="create-curves">Create curves<a class="anchor" aria-label="anchor" href="#create-curves"></a>
</h3>
<p>Determine x and y values to calculate the points for the curves to represent the generated models</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">curves</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/curves.html">curves</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span></code></pre></div>
<p><em>Creates curves using model parameters</em></p>
</div>
<div class="section level3">
<h3 id="plot-the-graph">Plot the graph<a class="anchor" aria-label="anchor" href="#plot-the-graph"></a>
</h3>
<p>Plot a pretty graph - SOME OF THE FOLLOWING WILL NEED TO BE TWEAKED TO FIT YOUR DATA/PREFERENCES!!! If nothing is specified in the plot function, then these are used.</p>
<div class="section level4">
<h4 id="specify-graph-labels">Specify graph labels<a class="anchor" aria-label="anchor" href="#specify-graph-labels"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span> <span class="op">&lt;-</span> <span class="st">"Plasma 11-KT levels in age-2 male spring chinook"</span>  <span class="co"># Graph title</span></span>
<span><span class="va">xlab</span> <span class="op">&lt;-</span> <span class="st">"Plasma [11-KT] (ng/mL)"</span> <span class="co"># X-axis label</span></span>
<span><span class="va">cutofflab</span> <span class="op">&lt;-</span> <span class="st">"Minijack cutoff"</span> <span class="co"># label for cutoff value on graph</span></span>
<span><span class="va">cutoffunits</span> <span class="op">&lt;-</span> <span class="st">"(ng/mL)"</span> <span class="co"># units for cutoff value</span></span>
<span><span class="va">LowerMode_col</span> <span class="op">&lt;-</span> <span class="st">"red"</span> <span class="co"># line color for the lower mode</span></span>
<span><span class="va">LowerMode_lty</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># line type for the lower mode</span></span>
<span><span class="va">LowerMode_lwd</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="co"># line width for the lower mode</span></span>
<span><span class="va">UpperMode_col</span> <span class="op">&lt;-</span> <span class="st">"purple"</span> <span class="co"># line color for the upper mode</span></span>
<span><span class="va">UpperMode_lty</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># line type for the upper mode</span></span>
<span><span class="va">UpperMode_lwd</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="co"># line width for the upper mode</span></span>
<span><span class="va">cutoffvalue_col</span> <span class="op">&lt;-</span> <span class="st">"black"</span> <span class="co"># line color for the cutoff value</span></span>
<span><span class="va">cutoffvalue_lty</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="co"># line type for the cutoff value</span></span>
<span><span class="va">cutoffvalue_lwd</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="co"># line width for the cutoff value</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="plot-the-graph-1">Plot the graph<a class="anchor" aria-label="anchor" href="#plot-the-graph-1"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plotty</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cutoffPlot.html">cutoffplot</a></span><span class="op">(</span><span class="va">rawdata</span><span class="op">)</span></span></code></pre></div>
<p><img src="man/cutoffvalue_figures/README-graph-1.jpeg" style="display: block; margin: auto;"></p>
<p><em>All figures can be found in the “cutoffvalue_figures” folder. They are exported as PDF, JPEG, and PNG at 300 dpi.</em></p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cutoffvalue</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Lea R Medeiros <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0001-6944-4935" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Lea R Medeiros.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
